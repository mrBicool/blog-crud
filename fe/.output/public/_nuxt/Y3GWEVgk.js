import{_,a as f}from"./BrTQF-hm.js";import{_ as v}from"./VTDPEPOY.js";import{r as h,c as g,a as u,b as t,w as n,n as w,o as x,h as s,d as V}from"./maLFL5Tx.js";import{u as y}from"./BnNJGN2H.js";import{a as U,u as k}from"./Qnor7pCr.js";import"./Bh748a4e.js";import"./D_bbQEEy.js";import"./CvPl5tTm.js";import"./CeLqHVAG.js";const b={class:"h-screen flex items-center justify-center"},T={class:"max-w-lg"},B={class:"mt-2 flex justify-end"},L={__name:"login",setup(N){const i=y(),r=U(),a=h({email:"admin@sample.com",password:"password"});async function c(){try{const{data:e,error:o}=await k("/login",{method:"POST",body:a.value});if(o.value){console.log("LOGIN",o.value.data.message),i.add({color:"red",title:o.value.data.message});return}console.info(e.value.data),r.setToken(e.value.data.token),r.setUser(e.value.data.user),r.setUserRole(e.value.data.role),i.add({title:e.value.message,callback:()=>{w("/")},timeout:1e3})}catch(e){console.error(e)}}return(e,o)=>{const m=f,d=_,p=v;return x(),g("div",b,[u("div",T,[t(d,{label:"Email",required:""},{default:n(()=>[t(m,{modelValue:s(a).email,"onUpdate:modelValue":o[0]||(o[0]=l=>s(a).email=l),modelModifiers:{trim:!0},color:"primary",variant:"outline",placeholder:"Search..."},null,8,["modelValue"])]),_:1}),t(d,{class:"mt-2",label:"Password",required:""},{default:n(()=>[t(m,{modelValue:s(a).password,"onUpdate:modelValue":o[1]||(o[1]=l=>s(a).password=l),modelModifiers:{trim:!0},type:"password",color:"primary",variant:"outline",placeholder:"Search..."},null,8,["modelValue"])]),_:1}),u("div",B,[t(p,{onClick:c},{default:n(()=>[V("Login")]),_:1})])])])}}};export{L as default};
