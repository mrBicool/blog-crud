import{_ as v,a as h}from"./DZP69egf.js";import{_ as y}from"./DYokn59J.js";import{r as g,c as w,a as t,b as s,w as i,d as _,n as x,o as b,C as p,h as r}from"./Bhnlaw80.js";import{u as V}from"./B3Z1-oLn.js";import{a as U,u as k}from"./DgbBGBFi.js";import"./DIc9Ghxr.js";import"./DngBRjp4.js";import"./-SOK-yDa.js";import"./DllDu123.js";import"./CvPl5tTm.js";import"./D8ue20Bc.js";const B={class:"h-screen flex items-center justify-center"},T={class:"max-w-lg"},A=t("div",{class:"flex justify-between font-semibold text-gray-600 py-2 mb-2 border-b"},[t("h1",null,"Blog CRUD"),t("h1",{class:"font-normal"},"Login")],-1),C={class:"mt-2 flex justify-end"},N=t("div",{class:"mt-4 border-2 border-dashed border-gray-300 p-2 text-gray-500 text-sm"},[_(" Accounts: "),t("div",null,"Emails: admin|editor|viewer@sample.com"),t("div",null,"Password: password")],-1),R={__name:"login",setup(S){const m=V(),l=U(),a=g({email:"admin@sample.com",password:"password"});async function n(){try{const{data:e,error:o}=await k("/login",{method:"POST",body:a.value});if(o.value){console.log("LOGIN",o.value.data.message),m.add({color:"red",title:o.value.data.message});return}console.info(e.value.data),l.setToken(e.value.data.token),l.setUser(e.value.data.user),l.setUserRole(e.value.data.role),m.add({title:e.value.message,callback:()=>{x("/")},timeout:1e3})}catch(e){console.error(e)}}return(e,o)=>{const u=h,c=v,f=y;return b(),w("div",B,[t("div",T,[A,s(c,{label:"Email",required:""},{default:i(()=>[s(u,{onKeyup:p(n,["enter"]),modelValue:r(a).email,"onUpdate:modelValue":o[0]||(o[0]=d=>r(a).email=d),modelModifiers:{trim:!0},color:"primary",variant:"outline",placeholder:"Search..."},null,8,["modelValue"])]),_:1}),s(c,{class:"mt-2",label:"Password",required:""},{default:i(()=>[s(u,{onKeyup:p(n,["enter"]),modelValue:r(a).password,"onUpdate:modelValue":o[1]||(o[1]=d=>r(a).password=d),modelModifiers:{trim:!0},type:"password",color:"primary",variant:"outline",placeholder:"Search..."},null,8,["modelValue"])]),_:1}),t("div",C,[s(f,{onClick:n},{default:i(()=>[_("Login")]),_:1})]),N])])}}};export{R as default};
