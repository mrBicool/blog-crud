import{_ as c}from"./BTbBh6Fk.js";import{_ as p}from"./CoVWwoff.js";import{r as _,c as f,a,b as n,h as s,w as v,n as h,o as g,d as w}from"./CPIBycqX.js";import{u as V}from"./Dm-_6pfb.js";import{a as x,u as y}from"./CdeO_Sux.js";import"./D7dnLds0.js";import"./BRn7ZUrN.js";import"./CvPl5tTm.js";import"./DuKkvKTj.js";const k={class:"h-screen flex items-center justify-center"},U={class:"max-w-lg"},b=a("label",{for:""},"Email",-1),T=a("label",{for:""},"Password",-1),P={__name:"login",setup(B){const i=V(),r=x(),t=_({email:"admin@sample.com",password:"password"});async function m(){try{const{data:e,error:o}=await y("/login",{method:"POST",body:t.value});if(o.value){console.log("LOGIN",o.value.data.message),i.add({title:o.value.data.message});return}console.info(e.value.data),r.setToken(e.value.data.token),r.setUser(e.value.data.user),r.setUserRole(e.value.data.role),i.add({title:e.value.message,callback:()=>{h("/")},timeout:1e3})}catch(e){console.error(e)}}return(e,o)=>{const d=c,u=p;return g(),f("div",k,[a("div",U,[a("div",null,[b,n(d,{modelValue:s(t).email,"onUpdate:modelValue":o[0]||(o[0]=l=>s(t).email=l),modelModifiers:{trim:!0},color:"primary",variant:"outline",placeholder:"Search..."},null,8,["modelValue"])]),a("div",null,[T,n(d,{modelValue:s(t).password,"onUpdate:modelValue":o[1]||(o[1]=l=>s(t).password=l),modelModifiers:{trim:!0},type:"password",color:"primary",variant:"outline",placeholder:"Search..."},null,8,["modelValue"])]),a("div",null,[n(u,{onClick:m},{default:v(()=>[w("Login")]),_:1})])])])}}};export{P as default};
