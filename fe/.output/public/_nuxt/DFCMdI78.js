import{_ as x}from"./BTbBh6Fk.js";import{_ as E,a as N}from"./C4cn_OY6.js";import{_ as T}from"./CoVWwoff.js";import{f as U,r as m,g as V,c as S,a as d,b as a,w as i,n as p,o as w,h as r,d as O}from"./CPIBycqX.js";import{u as R}from"./Dm-_6pfb.js";import{u as _}from"./CdeO_Sux.js";import{u as b}from"./p5OpvR-P.js";import"./D7dnLds0.js";import"./DFT4drxL.js";import"./BRn7ZUrN.js";import"./CvPl5tTm.js";import"./DuKkvKTj.js";const B={class:"p-2"},C={class:"mt-4"},q={__name:"edit",setup(M){const n=U(),c=R();console.log("ROUTE",n.params.id);const l=m(null),o=m({title:"",content:""});async function f(){try{const{data:e,error:t}=await _(`/articles/${n.params.id}`,{method:"GET"});if(t.value){console.log("ERROR",t.value),c.add({title:"Not found",color:"red"}),p("/");return}console.log("RESPONSE",e.value),l.value=JSON.parse(JSON.stringify(e.value.data)),o.value.title=l.value.title,o.value.content=l.value.content}catch(e){console.error(e)}}V(async()=>{await b(1),console.log("MOUNTED"),await f()});async function v(){try{if(!confirm("Are you sure you want to update this article?"))return;const{data:e,error:t}=await _(`/articles/${n.params.id}`,{method:"PATCH",body:o.value});if(t.value){c.add({title:t.value.data.message,color:"red"});return}console.log("RESPONSE",e.value),p("/articles")}catch(e){console.error(e)}}return(e,t)=>{const y=x,u=E,g=N,h=T;return w(),S("div",B,[d("div",C,[a(u,{label:"Title"},{default:i(()=>[a(y,{modelValue:r(o).title,"onUpdate:modelValue":t[0]||(t[0]=s=>r(o).title=s),modelModifiers:{trim:!0},color:"primary",variant:"outline",placeholder:"Search..."},null,8,["modelValue"])]),_:1}),a(u,{label:"Content",class:"mt-2"},{default:i(()=>[a(g,{modelValue:r(o).content,"onUpdate:modelValue":t[1]||(t[1]=s=>r(o).content=s),modelModifiers:{trim:!0},color:"primary",variant:"outline",placeholder:"content..."},null,8,["modelValue"])]),_:1}),d("div",null,[a(h,{onClick:v,color:"primary",class:"mt-4",size:"xs",variant:"solid"},{default:i(()=>[O(" Update ")]),_:1})])])])}}};export{q as default};
